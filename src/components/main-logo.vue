<script lang="ts" setup>
const props = defineProps<{
  theme?: Theme
  square?: boolean
  initial?: boolean
  rounded?: boolean
  width?: number | string
  height?: number | string
}>()

type Theme = 'primary' | 'secondary'
interface Color {
  creasi: string
  rect?: string
}

const theme = computed(() => props.theme || 'primary')
const square = computed(() => !!props.initial || !!props.square)

const width = computed(() => {
  return props.width || (square.value ? 256 : 291)
})

const height = computed(() => {
  if (square.value)
    return width.value

  return props.height || null
})

const primaryColor = '#388370'
const secondaryColor = '#B9C6C3'
const colors: { [k in Theme]: { [k in 'square' | 'base']: Color } } = {
  primary: {
    square: {
      rect: primaryColor,
      creasi: 'white',
    },
    base: {
      creasi: primaryColor,
    },
  },
  secondary: {
    square: {
      rect: 'white',
      creasi: primaryColor,
    },
    base: {
      creasi: 'white',
    },
  },
}
</script>

<template>
  <div class="overflow-hidden" :class="{ rounded: props.rounded }">
    <svg v-if="square" :width="width" :height="height" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect :fill="colors[theme].square.rect" width="512" height="512" />
      <template v-if="initial">
        <path :fill="colors[theme].square.creasi" d="M275.751 81c-101.35 0-132.372 44.593-137.624 87.229l-21.983 171.552c-.525 5.454-1.144 9.902-1.144 13.372C115 392.319 147.092 431 236.364 431c101.35 0 132.257-44.592 137.509-87.228l3.777-26.998c1.052-8.428-.63-16.198-12.708-16.198h-54.041c-11.028 0-15.828 5.787-17.403 16.198l-2.062 12.549c-3.151 22.806-21.44 32.24-47.172 32.24-23.63 0-40.989-7.838-40.989-27.173 0-1.487.504-5.522 1.031-9.488l18.892-142.225c3.15-22.805 22.013-32.24 47.745-32.24 24.155 0 40.53 7.924 40.53 25.771 0 1.986-.507 6.406-1.03 9.382l-1.031 5.499c-1.575 8.924 2.071 15.383 13.625 15.383h54.041c11.027 0 14.683-4.973 16.258-15.383l2.633-19.409c.525-5.454 1.031-9.901 1.031-13.371C397 119.143 364.497 81 275.751 81Z" />
      </template>
      <template v-else>
        <path :fill="colors[theme].square.creasi" d="M74.878 214C51.6274 214 44.5107 224.131 43.3062 234.387L38.2631 275.653C38.1421 276.965 38 278.034 38 278.869C38 288.291 45.3621 297 65.8423 297C89.0929 297 96.1836 286.869 97.388 276.613L98.2555 269.324C98.4958 267.298 98.11 265.745 95.3397 265.745H82.9419C80.412 265.745 79.3109 266.82 78.9495 269.324L78.4763 273.137C77.7534 278.623 73.5575 280.893 67.6545 280.893C62.234 280.893 58.2516 279.007 58.2516 274.357C58.2516 273.999 58.3676 273.028 58.4878 272.074L62.8215 237.862C63.5444 232.377 67.8714 230.107 73.7752 230.107C79.3168 230.107 83.0731 232.013 83.0731 236.306C83.0731 236.783 82.9571 237.848 82.8369 238.563L82.6007 239.886C82.2393 242.032 83.0756 243.439 85.7258 243.439H98.1235C100.653 243.439 101.492 242.39 101.854 239.886L102.458 235.217C102.578 233.905 102.694 232.835 102.694 232.001C102.694 222.58 95.2371 214 74.878 214ZM304.656 214C282.128 214 275.524 224.131 274.318 234.387L273.583 240.352C273.463 241.545 273.347 242.62 273.347 243.335C273.347 250.133 277.931 255.397 282.75 257.186L299.246 263.592C302.98 265.023 308.623 267.195 308.623 271.011C308.623 271.13 308.664 271.602 308.544 272.437L308.281 273.967C307.437 279.453 302.863 281.495 296.96 281.49L270.904 281.463L263.391 218.539C263.022 216.156 261.929 214.959 259.399 214.959H246.398C243.868 214.959 242.543 216.034 241.46 218.539L215.824 279.959H187.377L189.662 262.062H212.567C215.096 262.062 216.171 261.117 216.532 258.612L217.61 249.897C217.971 247.393 217.014 246.552 214.484 246.552H191.58L193.523 231.041H218.318C220.848 231.041 221.949 230.095 222.311 227.591L223.52 218.279C223.881 215.775 222.792 214.959 220.262 214.959H179.051C176.521 214.959 175.446 216.034 175.084 218.539L165.918 292.461C165.556 294.966 166.513 296.04 169.043 296.04H223.52C226.049 296.04 227.246 293.612 228.089 291.346L250.363 234.153L255.17 291.346C255.768 294.526 257.43 297.022 261.632 297H295.752C318.642 297 326.356 286.869 327.56 276.613L328.401 269.195C328.521 267.884 328.637 267.073 328.637 266.238C328.637 258.844 323.597 252.874 315.767 250.131L296.356 243.335C295.151 242.858 293.099 242.027 293.099 238.926V238.199L293.23 237.007C293.953 231.52 297.314 229.511 303.448 229.511C309.582 229.511 315.073 232.189 312.142 236.306V237.007L312.011 238.796C311.769 241.539 312.611 242.376 314.9 242.376H327.455C329.985 242.376 331.18 241.3 331.422 238.796L331.894 234.387C332.015 232.956 332.026 232.477 332.026 232.001C332.026 222.818 324.895 214 304.656 214ZM113.936 214.959C111.406 214.959 110.331 216.034 109.97 218.539L100.803 292.461C100.442 295.323 101.881 296.04 103.929 296.04H116.957C119.486 296.04 120.445 294.966 120.687 292.461L123.944 266.108H133.11L140.439 292.461C140.92 294.369 141.422 296.04 143.591 296.04H156.462C158.871 296.04 160.794 294.726 160.191 292.461L152.127 263.489C161.886 260.03 165.741 253.354 166.705 246.318L167.809 237.007C167.929 236.052 168.019 234.75 168.019 234.153C168.019 223.898 159.489 214.959 138.889 214.959H113.936ZM345.79 214.959C343.26 214.959 342.158 216.034 341.797 218.539L335.204 271.633C334.843 274.138 335.8 275.238 338.33 275.238H351.331C353.861 275.238 354.726 274.138 355.088 271.633L361.681 218.539C362.042 216.034 361.321 214.959 358.791 214.959H345.79ZM128.409 231.041H138.39C144.775 231.041 148.03 233.549 148.03 238.199C148.03 238.557 148.046 239.268 147.925 240.223L147.557 242.739C146.713 248.224 141.896 250.001 135.632 250.001H125.966L128.409 231.041Z" />
        <path :fill="secondaryColor" d="M389.698 235.453C370.905 235.453 363.189 242.744 361.743 254.074L358.737 278.399C358.617 279.83 358.611 280.299 358.611 280.776C358.611 290.674 366.675 297 383.059 297C402.214 297 409.925 289.729 410.889 278.399L411.14 275.402C411.26 273.494 410.883 271.951 408.112 271.951H396.671C394.141 271.951 393.071 272.898 392.83 275.402L392.705 276.849C392.223 280.785 389.935 282.099 384.875 282.099C380.298 282.099 378.132 281.025 378.132 277.924C378.132 277.447 378.246 276.612 378.487 274.824L380.888 255.5C381.37 251.565 383.657 250.375 388.717 250.375C393.295 250.375 395.356 251.325 395.356 254.425V256.099C395.356 258.246 396.074 259.303 398.362 259.303H409.678C412.208 259.303 413.425 258.356 413.666 255.851L413.791 254.301C413.911 252.751 413.895 252.396 413.895 251.8C413.895 242.26 406.444 235.453 389.698 235.453ZM447.091 235.453C428.298 235.453 419.141 242.744 417.695 254.074L414.689 278.399C414.568 279.473 414.563 280.067 414.563 280.425C414.563 290.561 424.072 297 440.577 297C459.611 297 468.422 289.729 469.868 278.399L472.875 254.074C472.995 252.881 473 252.396 473 251.8C473 241.783 463.475 235.453 447.091 235.453ZM444.857 250.375C445.154 250.364 445.446 250.375 445.754 250.375C449.73 250.375 453.48 251.204 453.48 254.901V255.624L450.828 276.725C450.346 280.78 446.852 282.099 441.913 282.099C437.336 282.099 434.21 281.254 434.21 277.676V276.725L436.84 255.624C437.292 251.934 440.402 250.533 444.857 250.375ZM337.441 279.102C334.911 279.102 333.716 280.173 333.475 282.677L332.264 292.577C331.902 295.082 332.74 296.049 335.27 296.049H348.235C350.765 296.049 351.715 295.082 352.076 292.577L353.288 282.677C353.649 280.173 352.936 279.102 350.406 279.102H337.441Z" />
      </template>
    </svg>
    <svg v-else :width="width" :height="height" viewBox="0 0 291 56" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path :fill="colors[theme].base.creasi" d="M24.808.146C9.272.146 4.516 6.916 3.712 13.772l-3.37 27.58c-.081.876-.176 1.59-.176 2.149 0 6.296 4.92 12.117 18.604 12.117 15.536 0 20.274-6.771 21.08-13.625l.579-4.872c.16-1.354-.097-2.392-1.949-2.392h-8.284c-1.69 0-2.426.719-2.668 2.392l-.316 2.549c-.483 3.666-3.287 5.183-7.23 5.183-3.623 0-6.284-1.26-6.284-4.368 0-.24.078-.889.158-1.526l2.896-22.865c.483-3.666 3.374-5.183 7.319-5.183 3.703 0 6.213 1.274 6.213 4.143 0 .32-.078 1.03-.158 1.508l-.158.885c-.241 1.434.317 2.374 2.088 2.374h8.285c1.69 0 2.25-.7 2.492-2.374l.404-3.12c.08-.878.158-1.593.158-2.15C43.395 5.88 38.412.146 24.808.146Zm153.538 0c-15.053 0-19.466 6.77-20.272 13.626l-.491 3.986c-.08.797-.158 1.516-.158 1.994 0 4.543 3.063 8.061 6.284 9.257l11.022 4.282c2.495.956 6.266 2.407 6.266 4.958 0 .079.027.395-.053.953l-.175 1.023c-.564 3.666-3.621 5.03-7.565 5.027l-17.411-.018-5.02-42.054c-.247-1.593-.977-2.393-2.668-2.393h-8.687c-1.691 0-2.576.719-3.3 2.393l-17.13 41.049H99.98l1.527-11.961h15.305c1.69 0 2.408-.632 2.65-2.306l.72-5.824c.241-1.674-.399-2.237-2.089-2.237h-15.305l1.299-10.366h16.568c1.691 0 2.426-.632 2.668-2.305l.808-6.224c.241-1.673-.486-2.219-2.177-2.219H94.416c-1.69 0-2.408.719-2.65 2.393l-6.125 49.404c-.242 1.674.397 2.393 2.088 2.393h36.402c1.69 0 2.49-1.623 3.053-3.138l14.884-38.224 3.212 38.224c.399 2.126 1.509 3.794 4.318 3.779h22.798c15.295 0 20.45-6.771 21.255-13.625l.562-4.958c.08-.877.157-1.419.157-1.976 0-4.942-3.367-8.932-8.599-10.765L172.8 19.752c-.805-.319-2.176-.875-2.176-2.947v-.486l.087-.797c.483-3.666 2.729-5.01 6.828-5.01s7.768 1.79 5.809 4.542v.468l-.087 1.196c-.162 1.834.401 2.393 1.931 2.393h8.389c1.69 0 2.489-.72 2.65-2.393l.316-2.946c.081-.957.088-1.277.088-1.595 0-6.138-4.765-12.031-18.289-12.031ZM50.906.787c-1.69 0-2.408.719-2.65 2.393l-6.125 49.404c-.241 1.913.72 2.393 2.089 2.393h8.705c1.69 0 2.331-.719 2.492-2.393l2.177-17.612h6.125l4.897 17.612c.322 1.275.657 2.393 2.106 2.393h8.6c1.61 0 2.895-.878 2.492-2.393l-5.388-19.363c6.52-2.311 9.097-6.773 9.741-11.475l.737-6.224a19.4 19.4 0 0 0 .14-1.907C87.045 6.761 81.346.787 67.58.787H50.907Zm154.926 0c-1.691 0-2.427.719-2.668 2.393l-4.405 35.485c-.242 1.673.398 2.409 2.088 2.409h8.688c1.69 0 2.268-.736 2.51-2.41L216.45 3.18c.242-1.674-.24-2.393-1.931-2.393h-8.687ZM60.578 11.535h6.67c4.265 0 6.44 1.676 6.44 4.784 0 .24.01.715-.07 1.353l-.246 1.681c-.564 3.666-3.782 4.854-7.968 4.854h-6.46l1.634-12.672Z" />
      <path :fill="secondaryColor" d="M235.172 14.484c-12.558 0-17.714 4.873-18.68 12.445l-2.009 16.258c-.08.956-.084 1.27-.084 1.588 0 6.615 5.389 10.843 16.336 10.843 12.8 0 17.953-4.86 18.596-12.431l.168-2.004c.081-1.275-.172-2.306-2.023-2.306h-7.645c-1.69 0-2.405.633-2.567 2.306l-.083.967c-.322 2.63-1.851 3.509-5.232 3.509-3.059 0-4.506-.718-4.506-2.79 0-.32.076-.877.238-2.072l1.604-12.915c.321-2.63 1.85-3.426 5.231-3.426 3.059 0 4.436.636 4.436 2.707v1.12c0 1.434.48 2.14 2.009 2.14h7.561c1.691 0 2.504-.632 2.665-2.306l.084-1.036c.08-1.036.069-1.273.069-1.671 0-6.377-4.979-10.926-16.168-10.926Zm38.35 0c-12.558 0-18.677 4.873-19.643 12.445l-2.009 16.258c-.08.717-.083 1.114-.083 1.353 0 6.775 6.354 11.078 17.382 11.078 12.719 0 18.607-4.86 19.573-12.431l2.009-16.258c.08-.797.083-1.121.083-1.52 0-6.694-6.364-10.925-17.312-10.925Zm-1.493 9.972c.199-.007.394 0 .6 0 2.656 0 5.162.555 5.162 3.025v.484l-1.772 14.103c-.322 2.71-2.657 3.59-5.957 3.59-3.059 0-5.147-.564-5.147-2.955v-.635l1.757-14.103c.302-2.466 2.38-3.403 5.357-3.509Zm-71.776 19.2c-1.69 0-2.489.716-2.65 2.39l-.809 6.616c-.242 1.674.318 2.32 2.009 2.32h8.663c1.691 0 2.325-.646 2.567-2.32l.809-6.616c.242-1.674-.235-2.39-1.925-2.39h-8.664Z" />
    </svg>
  </div>
</template>
